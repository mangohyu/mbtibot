<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700&display=swap" rel="stylesheet">
    <!-- <link rel="icon" href="../../favicon.ico"> -->
    <meta charset="utf-8">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title></title>
    <link rel="stylesheet" href="public/styles/style.css">
    <!-- <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"> -->
</head>
<body oncontextmenu='return false' onselectstart='return false' id="colorCont">
    <main class="desktop">
    <div class="desktop_item">
        <ul>
        <div id="trash">
            <li class="trash"  style="cursor: pointer;">
                <img src="public/images/ntrash.png" alt="the ntrash" onclick="colorChange()">
                휴지통
            </li>
        </div>
        <div id="myBtn">
            <li class="folder" style="cursor: pointer;">
                <img src="public/images/nfolder.png" alt="it is a nfolder">
                도움말
            </li>
        </div>
        <div id="game">
            <li class="game" style="cursor: pointer;">
                <img src="public/images/nslot.png" alt="it is a nfolder">
                슬롯<br />게임
            </li>
        </div>
        <div id="lotto">
            <li class="lotto"  style="cursor: pointer;">
                <img src="public/images/lotto.png" alt="it is a folder">
                로또<br />복권
            </li>
        </div>
        <div id="tooltip">
            <li class="tooltip"  style="cursor: pointer;">
                <img src="public/images/nfolder.png" alt="it is a nfolder">
                신비한<br/>폴더
            </li>
        </div>
        <div id="user_folder">
            <li class="folder"  style="cursor: pointer;">
                <img id="profile" src="" alt="Error" onerror="this.src='public/images/warning.png';">
                <span id="user"></span>
            </li>
        </div>
        </ul>
        <ul>
        <div id="cook">
            <li class="trash"  style="cursor: pointer;">
                <img src="public/images/boiling.png" alt="the ntrash" >
                요리
            </li>
        </div>
            <li class="folder" name="test" style="cursor: pointer;">
                <img src="public/images/barrier.png" alt="it is a nfolder">
                공사중
            </li>
            <li class="game" name="test" style="cursor: pointer;">
                <img src="public/images/barrier.png" alt="it is a nfolder">
                공사중
            </li>
            <li class="lotto" name="test" style="cursor: pointer;">
                <img src="public/images/barrier.png" alt="it is a folder">
                공사중
            </li>
            <li class="tooltip" name="test" style="cursor: pointer;">
                <img src="public/images/barrier.png" alt="it is a nfolder">
                공사중
            </li>
        </ul>
    </div>
    </main>
    <footer class="toolbar">
        <ul>
            <li id="start" class="start">
                <img src="public/images/starto.png" alt="image in start button">
                시작
            </li>
            <li>
                <a href="javascript:;" id="kakao-link-btn">
                <img src="//developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" width="10px" />
                </a>
            </li>
            <li class="time" id="clock">오전 11:20</li>
        </ul>
    </footer>
    <div id="myModal" class="modal" >
        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <!-- <iframe style="display:block; width: 47vw; height: 25vh" src="https://ko.mbti.wikidok.net/wp-d/60afd3a75ab6d70c1e8a4852"></iframe> -->
        </div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.8/pixi.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<!-- <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="js/draganddrop.js"></script> -->
<script src="js/jquery.dad.js"></script>
<script src="js/jquery.dad.min.js"></script>
<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
<script language="javascript">
    
    var urls = "http://t1.daumcdn.net/cafeattach/"
    var item1 = "";
    var item2 = "";
    var item3 = "";
    var item4 = "";
    var item5 = "";
    $(function () {
        $('#user_folder,#tooltip,#lotto,#myBtn,#game,#trash,#cook').dad({
            draggable: "#user_folder,#tooltip,#lotto,#myBtn,#game,#trash,#cook"
});
        // $("#user_folder,#tooltip,#lotto,#myBtn,#game,#trash,#cook").draggable();
        if(getParameters('name') != undefined){
        $('#user').html(getParameters('name')+"님의 정보");
        $('#profile').attr('src', urls + getParameters('img'));
        }else{
        $('#user').html("잘못된 접근")
        }
        
        $('#start').click(function () {
            var url = "public/bomb.html";
            $(location).attr('href', url);
        });

        $('#guide, #cook, [name="test"]').click(function () {
            var url = "public/kakao.html";
            alert("준비중입니다!");
        });

        $('#game').click(function () {
            var url = "public/solt.html";
            $(location).attr('href', url);
        });

        $('#lotto').click(function () {
            var url = "public/lotto.html";
            $(location).attr('href', url);
        });

        $('#tooltip').click(function () {
            var url = "public/tooltip.html";
            item1 = getParameters('item1');
            item2 = getParameters('item2');
            item3 = getParameters('item3');
            item4 = getParameters('item4');
            item5 = getParameters('item5');+
            $(location).attr('href', url + '?item1=' + item1 + '&item2=' + item2 + '&item3=' + item3 + '&item4=' + item4 + '&item5=' + item5);
        });
    });
    // Get the modal
    var modal = document.getElementById('myModal');
    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal 
    btn.onclick = function () {
        modal.style.display = "block";
        console.log(getParameters('name')); //파라미터를 때옴
    }
    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }
    // When the user clicks anywhere outside of the modal, close it
    var getParameters = function (paramName) {
        // 리턴값을 위한 변수 선언
        var returnValue;
        // 현재 URL 가져오기
        var url = location.href;
        // get 파라미터 값을 가져올 수 있는 ? 를 기점으로 slice 한 후 split 으로 나눔
        var parameters = (url.slice(url.indexOf('?') + 1, url.length)).split('&');
        // 나누어진 값의 비교를 통해 paramName 으로 요청된 데이터의 값만 return
        for (var i = 0; i < parameters.length; i++) {
            var varName = parameters[i].split('=')[0];
            if (varName.toUpperCase() == paramName.toUpperCase()) {
                returnValue = parameters[i].split('=')[1];
                return decodeURIComponent(returnValue);
            }
        }
    };

    var clockTarget = document.getElementById("clock");
    function colorChange() {
        var color = ["#FC5C7D", "#6A82FB", "#38ef7d", "#fffbd5", "#b20a2c", "#CAC531"];

        var num = Math.floor(Math.random() * color.length);
        var bodyTag = document.getElementById("colorCont");
        bodyTag.style.backgroundColor = color[num];
    }
    function clock() {
        var date = new Date();
        // date Object를 받아오고 
        // var month = date.getMonth();
        // // 달을 받아옵니다 
        // var clockDate = date.getDate();
        // // 몇일인지 받아옵니다 
        // var day = date.getDay();
        // // 요일을 받아옵니다. 
        var week = ['일', '월', '화', '수', '목', '금', '토'];
        // 요일은 숫자형태로 리턴되기때문에 미리 배열을 만듭니다. 
        var hours = date.getHours();
        // 시간을 받아오고 
        var minutes = date.getMinutes();
        // 분도 받아옵니다.
        var seconds = date.getSeconds();
        // 초까지 받아온후 
        if (hours > 12) {
            clockTarget.innerText = `오후 ${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}`;
        } else {
            clockTarget.innerText = `오전 ${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}`;
        }
        // 월은 0부터 1월이기때문에 +1일을 해주고 
        // 시간 분 초는 한자리수이면 시계가 어색해보일까봐 10보다 작으면 앞에0을 붙혀주는 작업을 3항연산으로 했습니다. 
    }

    function init() {
        clock();
        // 최초에 함수를 한번 실행시켜주고 
        setInterval(clock, 1000);
        // setInterval이라는 함수로 매초마다 실행을 해줍니다.
        // setInterval은 첫번째 파라메터는 함수이고 두번째는 시간인데 밀리초단위로 받습니다. 1000 = 1초 
    }
    init();
</script>
<script type="text/javascript">
    //<![CDATA[
      // // 사용할 앱의 JavaScript 키를 설정해 주세요.
      Kakao.init('d14d05b002e5347265b1112294701777');
      // // 카카오링크 버튼을 생성합니다. 처음 한번만 호출하면 됩니다.
      Kakao.Link.createDefaultButton({
        container: '#kakao-link-btn',
        objectType: 'feed',
        content: {
          title: document.title,
          description: '내용, 주로 해시태그',
          imageUrl: document.images[0].src,
          link: {
            webUrl: document.location.href,
            mobileWebUrl: document.location.href
          }
        },
        social: {
          likeCount: 286,
          commentCount: 45,
          sharedCount: 845
        },
        buttons: [
          {
            title: 'Open!',
            link: {
              mobileWebUrl: document.location.href,
              webUrl: document.location.href
            }
          }  
        ]
      });
    //]]>
  </script> 

<style>
    /* The Modal (background) */
    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1;
        /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        background-color: rgb(0, 0, 0);
        /* Fallback color */
        background-color: rgba(0, 0, 0, 0.4);
        /* Black w/ opacity */
    }

    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 50%;
        /* Could be more or less, depending on screen size */
    }

    /* The Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }
</style>

</html>